{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "from composipy import OrthotropicMaterial, LaminateProperty\n",
    "\n",
    "from composipy import LaminateStrength"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Example 3 of https://ntrs.nasa.gov/api/citations/19950009349/downloads/19950009349.pdf\n",
    "# Example 6 page 56\n",
    "\n",
    "E1 = 2.01e7 #lb/in2\n",
    "E2 = 1.301e6 #lb/in2\n",
    "v12 = 0.3\n",
    "G12 = 1.001e6 #lb/in2\n",
    "t = 0.005 #in"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "mat_1 = OrthotropicMaterial(E1, E2, v12, G12, t)\n",
    "stacking = [0, 45, 45, 0]\n",
    "laminate1 = LaminateProperty(stacking, mat_1)\n",
    "lamstrength = LaminateStrength(dproperty=laminate1, Mx=5)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([-3.90667296e-21,  6.13479973e-21,  9.51678455e-21,  4.16373455e-01,\n",
       "       -1.64440350e-01, -9.76813056e-02])"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lamstrength.epsilon0()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>ply</th>\n",
       "      <th>position</th>\n",
       "      <th>angle</th>\n",
       "      <th>epsilonx</th>\n",
       "      <th>epsilony</th>\n",
       "      <th>gammaxy</th>\n",
       "      <th>epsilon1</th>\n",
       "      <th>epsilon2</th>\n",
       "      <th>gamma12</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>top</td>\n",
       "      <td>0</td>\n",
       "      <td>4.16e-03</td>\n",
       "      <td>-1.64e-03</td>\n",
       "      <td>-9.77e-04</td>\n",
       "      <td>4.16e-03</td>\n",
       "      <td>-1.64e-03</td>\n",
       "      <td>-9.77e-04</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>bot</td>\n",
       "      <td>0</td>\n",
       "      <td>2.08e-03</td>\n",
       "      <td>-8.22e-04</td>\n",
       "      <td>-4.88e-04</td>\n",
       "      <td>2.08e-03</td>\n",
       "      <td>-8.22e-04</td>\n",
       "      <td>-4.88e-04</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2</td>\n",
       "      <td>top</td>\n",
       "      <td>45</td>\n",
       "      <td>2.08e-03</td>\n",
       "      <td>-8.22e-04</td>\n",
       "      <td>-4.88e-04</td>\n",
       "      <td>3.86e-04</td>\n",
       "      <td>8.74e-04</td>\n",
       "      <td>-2.90e-03</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2</td>\n",
       "      <td>bot</td>\n",
       "      <td>45</td>\n",
       "      <td>-3.91e-21</td>\n",
       "      <td>6.13e-21</td>\n",
       "      <td>9.52e-21</td>\n",
       "      <td>5.87e-21</td>\n",
       "      <td>-3.64e-21</td>\n",
       "      <td>1.00e-20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>3</td>\n",
       "      <td>top</td>\n",
       "      <td>45</td>\n",
       "      <td>-3.91e-21</td>\n",
       "      <td>6.13e-21</td>\n",
       "      <td>9.52e-21</td>\n",
       "      <td>5.87e-21</td>\n",
       "      <td>-3.64e-21</td>\n",
       "      <td>1.00e-20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>3</td>\n",
       "      <td>bot</td>\n",
       "      <td>45</td>\n",
       "      <td>-2.08e-03</td>\n",
       "      <td>8.22e-04</td>\n",
       "      <td>4.88e-04</td>\n",
       "      <td>-3.86e-04</td>\n",
       "      <td>-8.74e-04</td>\n",
       "      <td>2.90e-03</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>4</td>\n",
       "      <td>top</td>\n",
       "      <td>0</td>\n",
       "      <td>-2.08e-03</td>\n",
       "      <td>8.22e-04</td>\n",
       "      <td>4.88e-04</td>\n",
       "      <td>-2.08e-03</td>\n",
       "      <td>8.22e-04</td>\n",
       "      <td>4.88e-04</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>4</td>\n",
       "      <td>bot</td>\n",
       "      <td>0</td>\n",
       "      <td>-4.16e-03</td>\n",
       "      <td>1.64e-03</td>\n",
       "      <td>9.77e-04</td>\n",
       "      <td>-4.16e-03</td>\n",
       "      <td>1.64e-03</td>\n",
       "      <td>9.77e-04</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   ply position  angle  epsilonx  epsilony   gammaxy  epsilon1  epsilon2  \\\n",
       "0    1      top      0  4.16e-03 -1.64e-03 -9.77e-04  4.16e-03 -1.64e-03   \n",
       "1    1      bot      0  2.08e-03 -8.22e-04 -4.88e-04  2.08e-03 -8.22e-04   \n",
       "2    2      top     45  2.08e-03 -8.22e-04 -4.88e-04  3.86e-04  8.74e-04   \n",
       "3    2      bot     45 -3.91e-21  6.13e-21  9.52e-21  5.87e-21 -3.64e-21   \n",
       "4    3      top     45 -3.91e-21  6.13e-21  9.52e-21  5.87e-21 -3.64e-21   \n",
       "5    3      bot     45 -2.08e-03  8.22e-04  4.88e-04 -3.86e-04 -8.74e-04   \n",
       "6    4      top      0 -2.08e-03  8.22e-04  4.88e-04 -2.08e-03  8.22e-04   \n",
       "7    4      bot      0 -4.16e-03  1.64e-03  9.77e-04 -4.16e-03  1.64e-03   \n",
       "\n",
       "    gamma12  \n",
       "0 -9.77e-04  \n",
       "1 -4.88e-04  \n",
       "2 -2.90e-03  \n",
       "3  1.00e-20  \n",
       "4  1.00e-20  \n",
       "5  2.90e-03  \n",
       "6  4.88e-04  \n",
       "7  9.77e-04  "
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lamstrength.calculate_strain()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>ply</th>\n",
       "      <th>position</th>\n",
       "      <th>angle</th>\n",
       "      <th>sigmax</th>\n",
       "      <th>sigmay</th>\n",
       "      <th>tauxy</th>\n",
       "      <th>sigma1</th>\n",
       "      <th>sigma2</th>\n",
       "      <th>tau12</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>top</td>\n",
       "      <td>0</td>\n",
       "      <td>8.35e+04</td>\n",
       "      <td>-5.17e+02</td>\n",
       "      <td>-9.78e+02</td>\n",
       "      <td>8.35e+04</td>\n",
       "      <td>-5.17e+02</td>\n",
       "      <td>-9.78e+02</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "      <td>bot</td>\n",
       "      <td>0</td>\n",
       "      <td>4.18e+04</td>\n",
       "      <td>-2.59e+02</td>\n",
       "      <td>-4.89e+02</td>\n",
       "      <td>4.18e+04</td>\n",
       "      <td>-2.59e+02</td>\n",
       "      <td>-4.89e+02</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>2</td>\n",
       "      <td>top</td>\n",
       "      <td>45</td>\n",
       "      <td>7.62e+03</td>\n",
       "      <td>1.81e+03</td>\n",
       "      <td>3.42e+03</td>\n",
       "      <td>8.14e+03</td>\n",
       "      <td>1.30e+03</td>\n",
       "      <td>-2.91e+03</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>2</td>\n",
       "      <td>bot</td>\n",
       "      <td>45</td>\n",
       "      <td>4.74e-14</td>\n",
       "      <td>6.75e-14</td>\n",
       "      <td>5.99e-14</td>\n",
       "      <td>1.17e-13</td>\n",
       "      <td>-2.46e-15</td>\n",
       "      <td>1.01e-14</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>3</td>\n",
       "      <td>top</td>\n",
       "      <td>45</td>\n",
       "      <td>4.74e-14</td>\n",
       "      <td>6.75e-14</td>\n",
       "      <td>5.99e-14</td>\n",
       "      <td>1.17e-13</td>\n",
       "      <td>-2.46e-15</td>\n",
       "      <td>1.01e-14</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>3</td>\n",
       "      <td>bot</td>\n",
       "      <td>45</td>\n",
       "      <td>-7.62e+03</td>\n",
       "      <td>-1.81e+03</td>\n",
       "      <td>-3.42e+03</td>\n",
       "      <td>-8.14e+03</td>\n",
       "      <td>-1.30e+03</td>\n",
       "      <td>2.91e+03</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>4</td>\n",
       "      <td>top</td>\n",
       "      <td>0</td>\n",
       "      <td>-4.18e+04</td>\n",
       "      <td>2.59e+02</td>\n",
       "      <td>4.89e+02</td>\n",
       "      <td>-4.18e+04</td>\n",
       "      <td>2.59e+02</td>\n",
       "      <td>4.89e+02</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>4</td>\n",
       "      <td>bot</td>\n",
       "      <td>0</td>\n",
       "      <td>-8.35e+04</td>\n",
       "      <td>5.17e+02</td>\n",
       "      <td>9.78e+02</td>\n",
       "      <td>-8.35e+04</td>\n",
       "      <td>5.17e+02</td>\n",
       "      <td>9.78e+02</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   ply position  angle    sigmax    sigmay     tauxy    sigma1    sigma2  \\\n",
       "0    1      top      0  8.35e+04 -5.17e+02 -9.78e+02  8.35e+04 -5.17e+02   \n",
       "1    1      bot      0  4.18e+04 -2.59e+02 -4.89e+02  4.18e+04 -2.59e+02   \n",
       "2    2      top     45  7.62e+03  1.81e+03  3.42e+03  8.14e+03  1.30e+03   \n",
       "3    2      bot     45  4.74e-14  6.75e-14  5.99e-14  1.17e-13 -2.46e-15   \n",
       "4    3      top     45  4.74e-14  6.75e-14  5.99e-14  1.17e-13 -2.46e-15   \n",
       "5    3      bot     45 -7.62e+03 -1.81e+03 -3.42e+03 -8.14e+03 -1.30e+03   \n",
       "6    4      top      0 -4.18e+04  2.59e+02  4.89e+02 -4.18e+04  2.59e+02   \n",
       "7    4      bot      0 -8.35e+04  5.17e+02  9.78e+02 -8.35e+04  5.17e+02   \n",
       "\n",
       "      tau12  \n",
       "0 -9.78e+02  \n",
       "1 -4.89e+02  \n",
       "2 -2.91e+03  \n",
       "3  1.01e-14  \n",
       "4  1.01e-14  \n",
       "5  2.91e+03  \n",
       "6  4.89e+02  \n",
       "7  9.78e+02  "
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lamstrength.calculate_stress()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "base",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.13"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
